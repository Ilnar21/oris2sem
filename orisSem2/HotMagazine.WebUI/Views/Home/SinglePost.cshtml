@using HotMagazine.Infrastructure.Identity
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.TagHelpers
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager
@model HotMagazine.Domain.Models.News
<!doctype html>
<html lang="en" class="no-js">
<head>
    <title>HotMagazine</title>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="/css/tailwind.css">
    <link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="/sport/css/bootstrap.min.css" media="screen">
    <link rel="stylesheet" href="/sport/css/jquery.bxslider.css" media="screen">
    <link rel="stylesheet" href="/sport/css/font-awesome.css" media="screen">
    <link rel="stylesheet" href="/sport/css/magnific-popup.css" media="screen">
    <link rel="stylesheet" href="/sport/css/owl.carousel.css" media="screen">
    <link rel="stylesheet" href="/sport/css/owl.theme.css" media="screen">
    <link rel="stylesheet" href="/sport/css/ticker-style.css">
    <link rel="stylesheet" href="/sport/css/style.css" media="screen">


</head>
<body>

<!-- Container -->
<div id="container">
    <header class="clearfix">
        <!-- Bootstrap navbar -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation">
            
            <div class="nav-list-container">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/"><img src="/sport/images/logo.png" alt=""></a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-left">
                            <li><a href="/">All</a></li>
                            <li><a href="/home/categorynews/football">Football</a></li>
                            <li><a href="/home/categorynews/nba">NBA</a></li>
                            <li><a href="/home/categorynews/tennis">Tennis</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <section class="block-wrapper">
        <section class="ticker-news">
        </section>
        <div class="container">
            <div class="row">
                <div class="col-sm-8">

                    <!-- block content -->
                    <div class="block-content">
                        

                        <!-- single-post box -->
                        <div class="single-post-box">

                            <div class="title-post">
                                <h1>@Model.Title</h1>
                                <ul class="post-tags">
                                    <li><i class="fa fa-clock-o"></i>@Model.PublishedAt.ToString("dd MMM yyyy")</li>
                                    <li><i class="fa fa-user"></i>by <a href="#">@Model.Author</a></li>
                                </ul>
                            </div>

                            

                            <div class="post-gallery">
                                <img src="@Model.ImagePath" alt="@Model.Title" />
                                <span class="image-caption">@Model.Title</span>
                            </div>

                            <div class="post-content">
                                @if (!string.IsNullOrEmpty(Model.Content))
                                {
                                @Html.Raw(Model.Content) <!-- если Content — HTML -->
                                }
                                else
                                {
                                <p>Текст новости пока не добавлен.</p>
                                }
                            </div>

                        </div>
                        

                           

                            <div class="about-more-autor">
                                <ul class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#about-autor" data-toggle="tab">About The Autor</a>
                                    </li>
                                </ul>

                                <div class="tab-content">

                                    <div class="tab-pane active" id="about-autor">
                                        <div class="autor-box">
                                            <img src="upload/users/avatar1.jpg" alt="">
                                            <div class="autor-content">
                                                <div class="autor-title">
                                                    <h1><span>@Model.Author</span></h1>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane" id="more-autor">
                                        <div class="more-autor-posts">

                                            <div class="news-post image-post3">
                                                <img src="upload/news-posts/gal1.jpg" alt="">
                                                <div class="hover-box">
                                                    <h2><a href="single-post.html">Donec odio. Quisque volutpat mattis eros.</a></h2>
                                                    <ul class="post-tags">
                                                        <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="news-post image-post3">
                                                <img src="upload/news-posts/gal2.jpg" alt="">
                                                <div class="hover-box">
                                                    <h2><a href="single-post.html">Nullam malesuada erat ut turpis. </a></h2>
                                                    <ul class="post-tags">
                                                        <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="news-post image-post3">
                                                <img src="upload/news-posts/gal3.jpg" alt="">
                                                <div class="hover-box">
                                                    <h2><a href="single-post.html">Suspendisse urna nibh.</a></h2>
                                                    <ul class="post-tags">
                                                        <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="news-post image-post3">
                                                <img src="upload/news-posts/gal4.jpg" alt="">
                                                <div class="hover-box">
                                                    <h2><a href="single-post.html">Donec nec justo eget felis facilisis fermentum. Aliquam </a></h2>
                                                    <ul class="post-tags">
                                                        <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                                    </ul>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                </div>

                    <div class="comments-section">

                        <h3 class="mb-4">Comments</h3>

                        <div id="comments-list" class="mb-5">
                            @if (ViewBag.Comments != null && ((List<HotMagazine.Domain.Models.Comment>)ViewBag.Comments).Count > 0)
                            {
                            foreach (var comment in (List<HotMagazine.Domain.Models.Comment>)ViewBag.Comments)
                            {
                            <div class="comment-item mb-3 p-3 border rounded shadow-sm">
                                <div class="d-flex justify-content-between mb-2">
                                    <strong>@comment.AuthorName</strong>
                                    <small class="text-muted">@comment.PostedAt.ToLocalTime().ToString("g")</small>
                                </div>
                                <p class="mb-0">@comment.Content</p>
                            </div>
                            }
                            }
                            else
                            {
                            <p class="text-muted">No comments yet.</p>
                            }
                        </div>

                        @if (User.Identity.IsAuthenticated)
                        {
                        <div class="contact-form-box p-4 border rounded shadow-sm">
                            <div class="title-section mb-3">
                                <h1 class="h4 mb-1"><span>Leave a Comment</span></h1>
                                <small class="text-muted">Your email address will not be published.</small>
                            </div>
                            <form asp-action="AddComment" method="post">
                                @Html.AntiForgeryToken()
                                <input type="hidden" name="newsId" value="@Model.Id" />

                                <div class="mb-3">
                                    <label for="comment" class="form-label">Comment*</label>
                                    <textarea id="comment" name="content" class="form-control" rows="4" required></textarea>
                                </div>

                                <button type="submit" id="submit-contact" class="btn btn-primary">
                                    <i class="fa fa-comment"></i> Post Comment
                                </button>
                            </form>
                        </div>
                        }
                        else
                        {
                            <p style="font-size: 1.5rem; margin-bottom: 20px; color: #333;">
                                Please <a href="/Account/Login" style="color: #007bff; text-decoration: none; font-weight: 600;">log in</a> to leave a comment.
                            </p>
                        }

                    </div>

                    <style>
                        .comments-section {
                            max-width: 700px;
                            margin: 0 auto;
                            font-family: Arial, sans-serif;
                        }
                        .comment-item p {
                            white-space: pre-wrap;
                        }
                        .title-section h1 span {
                            font-weight: 600;
                        }
                    </style>
                </div>
                <div class="col-sm-4">

                    <!-- sidebar -->
                    <div class="sidebar">

                        <div class="widget social-widget">
                            <div class="title-section">
                                <h1><span>Stay Connected</span></h1>
                            </div>
                            <ul class="social-share">
                                <li>
                                    <a href="#" class="rss"><i class="fa fa-rss"></i></a>
                                    <span class="number">9,455</span>
                                    <span>Subscribers</span>
                                </li>
                                <li>
                                    <a href="#" class="facebook"><i class="fa fa-facebook"></i></a>
                                    <span class="number">56,743</span>
                                    <span>Fans</span>
                                </li>
                                <li>
                                    <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
                                    <span class="number">43,501</span>
                                    <span>Followers</span>
                                </li>
                                <li>
                                    <a href="#" class="google"><i class="fa fa-google-plus"></i></a>
                                    <span class="number">35,003</span>
                                    <span>Followers</span>
                                </li>
                            </ul>
                        </div>


                        <!-- Другие блоки -->

                        <div class="widget tab-posts-widget">
                            <ul class="nav nav-tabs" id="myTab">
                                <li class="active"><a href="#popular" data-toggle="tab">Popular</a></li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane active" id="popular">
                                    <ul class="list-posts">
                                        @foreach (var news in (List<HotMagazine.Domain.Models.News>)ViewBag.PopularNews)
                                        {
                                        <li>
                                            <img src="@news.ImagePath" alt="@news.Title" />
                                            <div class="post-content">
                                                <h2><a href="@Url.Action("NewsDetails", "Home", new { id = news.Id })">@news.Title</a></h2>
                                                <ul class="post-tags">
                                                    <li><i class="fa fa-clock-o"></i>@news.PublishedAt.ToString("dd MMM yyyy")</li>
                                                </ul>
                                            </div>
                                        </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End block-wrapper-section -->

    <!-- footer 
        ================================================== -->
    <footer>
        <div class="container">
            <div class="footer-widgets-part">
                <div class="row">
                    <div class="col-md-3">
                        <div class="widget text-widget">
                            <h1>About</h1>
                            <p>Donec nec justo eget felis facilisis fermentum. Aliquam porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Morbi in sem quis dui placerat ornare. Pellentesque odio nisi, euismod in, pharetra a, ultricies in, diam. Sed arcu. Cras consequat.</p>
                            <a href="index.html"><img src="images/footer-logo.png" alt=""></a>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="widget social-widget">
                            <h1>Stay Connected</h1>
                            <ul class="social-icons">
                                <li><a href="#" class="facebook"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#" class="google"><i class="fa fa-google-plus"></i></a></li>
                                <li><a href="#" class="twitter"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#" class="youtube"><i class="fa fa-youtube"></i></a></li>
                                <li><a href="#" class="instagram"><i class="fa fa-instagram"></i></a></li>
                                <li><a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                                <li><a href="#" class="vimeo"><i class="fa fa-vimeo-square"></i></a></li>
                                <li><a href="#" class="dribble"><i class="fa fa-dribbble"></i></a></li>
                                <li><a href="#" class="pinterest"><i class="fa fa-pinterest"></i></a></li>
                                <li><a href="#" class="flickr"><i class="fa fa-flickr"></i></a></li>
                                <li><a href="#" class="rss"><i class="fa fa-rss"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="widget posts-widget">
                            <h1>Random Post</h1>
                            <ul class="list-posts">
                                <li>
                                    <img src="upload/news-posts/listw4.jpg" alt="">
                                    <div class="post-content">
                                        <a href="travel.html">travel</a>
                                        <h2><a href="single-post.html">Pellentesque odio nisi, euismod in ultricies in, diam. </a></h2>
                                        <ul class="post-tags">
                                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                        </ul>
                                    </div>
                                </li>

                                <li>
                                    <img src="upload/news-posts/listw1.jpg" alt="">
                                    <div class="post-content">
                                        <a href="business.html">business</a>
                                        <h2><a href="single-post.html">Sed arcu. Cras consequat.</a></h2>
                                        <ul class="post-tags">
                                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                        </ul>
                                    </div>
                                </li>

                                <li>
                                    <img src="upload/news-posts/listw3.jpg" alt="">
                                    <div class="post-content">
                                        <a href="tech.html">tech</a>
                                        <h2><a href="single-post.html">Phasellus ultrices nulla quis nibh. Quisque a lectus.</a></h2>
                                        <ul class="post-tags">
                                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="widget flickr-widget">
                            <h1>Flickr Photos</h1>
                            <ul class="flickr-list">
                                <li><a href="#"><img src="upload/flickr/1.jpg" alt=""></a></li>
                                <li><a href="#"><img src="upload/flickr/2.jpg" alt=""></a></li>
                                <li><a href="#"><img src="upload/flickr/3.jpg" alt=""></a></li>
                                <li><a href="#"><img src="upload/flickr/4.jpg" alt=""></a></li>
                                <li><a href="#"><img src="upload/flickr/5.jpg" alt=""></a></li>
                                <li><a href="#"><img src="upload/flickr/6.jpg" alt=""></a></li>
                            </ul>
                            <a href="#">View more photos...</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-last-line">
                <div class="row">
                    <div class="col-md-6">
                        <p>&copy; COPYRIGHT 2015 hotmagazine.com</p>
                    </div>
                    <div class="col-md-6">
                        <nav class="footer-nav">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="index.html">Purchase Theme</a></li>
                                <li><a href="about.html">About</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- End footer -->

</div>
<!-- End Container -->

<script type="text/javascript" src="/sport/js/jquery.min.js"></script>
<script type="text/javascript" src="/sport/js/jquery.migrate.js"></script>
<script type="text/javascript" src="/sport/js/jquery.bxslider.min.js"></script>
<script type="text/javascript" src="/sport/js/jquery.magnific-popup.min.js"></script>
<script type="text/javascript" src="/sport/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/sport/js/jquery.ticker.js"></script>
<script type="text/javascript" src="/sport/js/jquery.imagesloaded.min.js"></script>
<script type="text/javascript" src="/sport/js/jquery.isotope.min.js"></script>
<script type="text/javascript" src="/sport/js/owl.carousel.min.js"></script>
<script type="text/javascript" src="/sport/js/retina-1.1.0.min.js"></script>
<script type="text/javascript" src="/sport/js/plugins-scroll.js"></script>
<script type="text/javascript" src="/sport/js/script.js"></script>

</body>
</html>